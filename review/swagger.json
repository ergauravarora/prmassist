{
    "openapi": "3.0.3",
    "info": {
	"version": "1.0.0",
	"title": "PRMAssist Support Microservice REST API",
	"description": "API for the Microservice for Review"
    },
    "servers": [
	{
	    "url": "http://localhost:8080/review/"
	}
    ],
    "components" : {
	"parameters" : {
	},
	"responses": {
	    "InternalError": {
		"description": "Server error",
		"content" : {
		    "application/problem+json" : {
			"schema": {
			    "$ref" : "#/components/schemas/Error"
			}
		    }
		}
	    },
	    "BadRequest" : {
		"description" : "Invalid or missing fields",
		"content" : {
		    "application/problem+json" : {
			"schema" : {
			    "$ref" : "#/components/schemas/Error"
			}
		    }
		}
	    },
	    "NotFoundError": {
		"description": "Resource does not exist",
		"content": {
		    "application/problem+json": {
			"schema": {
			    "$ref": "#/components/schemas/Error"
			}
		    }
		}
	    },
	    "ValidationError": {
		"description": "Validation error (e.g. Required field missing)",
		"content": {
		    "application/problem+json": {
			"schema": {
			    "$ref": "#/components/schemas/Error"
			}
		    }
		}
	    },
	    "NoContent": {
		"description": "no content"
	    }
	},
	"schemas" :{
	    "Error": {
		"type" : "object",
		"required": [ "errors" ],
		"properties" : {
		    "errors" : {
			"type" : "array",
			"items" : { "$ref" : "#/components/schemas/ErrorDetail" }
		    }
		}
	    },
	    "ErrorDetail" : {
		"type" : "object",
		"required" : [],
		"properties" : {
		    "value" : {
			"type": "string",
			"description" : "Value containing error"
		    },
		    "msg" : {
			"type" : "string",
			"description" : "Error message"
		    },
		    "param" : {
			"type" : "string",
			"description" : "Parameter containing error"
		    },
		    "location" : {
			"type" : "string",
			"description" : "Location of error in HTTP request"
		    }
		}
	    },
		"Review": {
			"type": "object",
			"required": [
			  "bookingId",
			  "age",
			  "departureAirport",
			  "arrivalAirport",
			  "airline",
			  "departure",
			  "arrival",
			  "flight",
			  "prmassist"
			],
			"properties": {
			  "bookingId": {
				"type": "string",
				"description": "booking Id",
				"example": "BOOKING001"
			  },
			  "age": {
				"type": "string",
				"description": "age of customer",
				"example": "25"
			  },
			  "departureAirport": {
				"type": "string",
				"description": "Departure Airport Code",
				"example": "DUX"
			  },
			  "arrivalAirport": {
				"type": "string",
				"description": "Arrival Airport code",
				"example": "DUB"
			  },
			  "airline": {
				"type": "string",
				"description": "airline name",
				"example": "AX"
			  },
			  "departure": {
				"type": "object",
				"required": [
					"quality",
					"staff",
					"facilities",
					"comments"
				  ],
				  "properties": {
					"quality": {
					  "type": "string",
					  "description": "quality rating",
					  "example": "2"
					},
					"staff": {
						"type": "string",
						"description": "staff rating",
						"example": "2"
					  }
					  ,
					"facilities": {
						"type": "string",
						"description": "facilities rating",
						"example": "2"
					  }
					  ,
					"comments": {
						"type": "string",
						"description": "comments rating",
						"example": "test comment"
					  }}
			  },
			  "arrival": {
				"type": "object",
				"required": [
					"quality",
					"staff",
					"facilities",
					"comments"
				  ],
				  "properties": {
					"quality": {
					  "type": "string",
					  "description": "quality rating",
					  "example": "2"
					},
					"staff": {
						"type": "string",
						"description": "staff rating",
						"example": "2"
					  }
					  ,
					"facilities": {
						"type": "string",
						"description": "facilities rating",
						"example": "2"
					  }
					  ,
					"comments": {
						"type": "string",
						"description": "comments rating",
						"example": "test comment"
					  }}
			  }
			  ,
			  "flight": {
				"type": "object",
				"required": [
					"boarding",
					"onboard",
					"disembark",
					"comments"
				  ],
				  "properties": {
					"boarding": {
					  "type": "string",
					  "description": "boarding rating",
					  "example": "2"
					},
					"onboard": {
						"type": "string",
						"description": "onboard rating",
						"example": "2"
					  }
					  ,
					"disembark": {
						"type": "string",
						"description": "disembark rating",
						"example": "2"
					  }
					  ,
					"comments": {
						"type": "string",
						"description": "comments rating",
						"example": "test comment"
					  }}
			  },
			  "prmassist": {
				"type": "object",
				"required": [
					"heard",
					"improvement",
					"comments"
				  ],
				  "properties": {
					"heard": {
					  "type": "string",
					  "description": "heard rating",
					  "example": "2"
					},
					"improvement": {
						"type": "string",
						"description": "improvement rating",
						"example": "2"
					  }
					  ,
					"comments": {
						"type": "string",
						"description": "comments rating",
						"example": "test comment"
					  }}
			  }
			}
		  }	    
	}
    },
    "paths" : {
		"/AirportAverageDailyAssistance": {
			"get": {
				"summary": "Get Airport Average Daily Assistance",
				"operationId": "getreward",
				"tags": ["reward"],
				"parameters": [
					{
					  "name": "code",
					  "in": "query",
					  "type": "string",
					  "required": true
					},
					{
						"name": "startDate",
						"in": "query",
						"type": "string",
						"required": true
					  },
					  {
						"name": "endDate",
						"in": "query",
						"type": "string",
						"required": true
					  }
				  ],
				
				"requestBody": {
				  "content": {
					"application/json": {}
				  }
				},
				"responses": {
				  "200": {
					"description": "Airport Average Daily Assistance Data",
					"content": {
					  "application/json": {}
					}
				  },
				  "400": {
					"$ref": "#/components/responses/BadRequest"
				  },
				  "500": {
					"$ref": "#/components/responses/InternalError"
				  }
				}
			  }
		},
		"/AirportAverageDailyQuality": {
			"get": {
				"summary": "Get Airport Average Daily Quality",
				"operationId": "getQuality",
				"tags": ["reward"],
				"parameters": [
					{
					  "name": "code",
					  "in": "query",
					  "type": "string",
					  "required": true
					},
					{
						"name": "startDate",
						"in": "query",
						"type": "string",
						"required": true
					  },
					  {
						"name": "endDate",
						"in": "query",
						"type": "string",
						"required": true
					  }
				  ],
				
				"requestBody": {
				  "content": {
					"application/json": {}
				  }
				},
				"responses": {
				  "200": {
					"description": "Airport Average Daily Assistance Data",
					"content": {
					  "application/json": {}
					}
				  },
				  "400": {
					"$ref": "#/components/responses/BadRequest"
				  },
				  "500": {
					"$ref": "#/components/responses/InternalError"
				  }
				}
			  }
		}
		,
		"/AirportAverageDailyRating": {
			"get": {
				"summary": "Get Airport Average Daily Rating",
				"operationId": "getRating",
				"tags": ["reward"],
				"parameters": [
					{
					  "name": "code",
					  "in": "query",
					  "type": "string",
					  "required": true
					},
					{
						"name": "startDate",
						"in": "query",
						"type": "string",
						"required": true
					  },
					  {
						"name": "endDate",
						"in": "query",
						"type": "string",
						"required": true
					  }
				  ],
				
				"requestBody": {
				  "content": {
					"application/json": {}
				  }
				},
				"responses": {
				  "200": {
					"description": "Airport Average Daily Assistance Data",
					"content": {
					  "application/json": {}
					}
				  },
				  "400": {
					"$ref": "#/components/responses/BadRequest"
				  },
				  "500": {
					"$ref": "#/components/responses/InternalError"
				  }
				}
			  }
		},
		"/AirportThreeMonthData": {
			"get": {
				"summary": "Get Airport Three Month Data",
				"operationId": "getthreemonthdata",
				"tags": ["reward"],
				"parameters": [
					{
					  "name": "code",
					  "in": "query",
					  "type": "string",
					  "required": true
					},
					{
						"name": "first",
						"in": "query",
						"type": "string",
						"required": true
					  },
					  {
						"name": "second",
						"in": "query",
						"type": "string",
						"required": true
					  },
					  {
						"name": "third",
						"in": "query",
						"type": "string",
						"required": true
					  }
					  ,
					  {
						"name": "year",
						"in": "query",
						"type": "string",
						"required": true
					  }
					  
					  
				  ],
				
				"requestBody": {
				  "content": {
					"application/json": {}
				  }
				},
				"responses": {
				  "200": {
					"description": "Airport Average Daily Assistance Data",
					"content": {
					  "application/json": {}
					}
				  },
				  "400": {
					"$ref": "#/components/responses/BadRequest"
				  },
				  "500": {
					"$ref": "#/components/responses/InternalError"
				  }
				}
			  }
		},
		"/GetMostRecentWords": {
			"get": {
				"summary": "Get Most Recent Words",
				"operationId": "MostRecentWords",
				"tags": ["MostRecentWords"],
				"parameters": [
					{
					  "name": "code",
					  "in": "query",
					  "type": "string",
					  "required": true
					} 
				  ],
				"requestBody": {
				  "content": {
					"application/json": {}
				  }
				},
				"responses": {
				  "200": {
					"description": "Most Recent Key Words",
					"content": {
					  "application/json": {}
					}
				  },
				  "400": {
					"$ref": "#/components/responses/BadRequest"
				  },
				  "500": {
					"$ref": "#/components/responses/InternalError"
				  }
				}
			  }
		},
		"/ReviewAssistance":{
			"post": {
				"summary": "Save Review Assistance",
				"operationId": "postReview",
				"tags": ["Review"],
				"parameters": [
					{
					  "name": "code",
					  "in": "query",
					  "type": "string",
					  "required": true
					}],
				"requestBody": {
				  "required": true,
				  "content": {
					"application/json": {
					  "schema": {
						"$ref": "#/components/schemas/Review"
					  }
					}
				  }
				},
				"responses": {
				  "201": {
					"description": "Saved Review",
					"content": {
					  "application/json": {}
					}
				  },
				  "400": {
					"$ref": "#/components/responses/BadRequest"
				  },
				  "500": {
					"$ref": "#/components/responses/InternalError"
				  }
				}
			  }
		}

    }
}
	
